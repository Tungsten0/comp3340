<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warehouse Management</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .hidden {
            display: none;
        }
        .button-group {
            margin-top: 10px;
        }
        .button-group button {
            margin-right: 10px;
        }
        .warehouse-info {
            margin-top: 20px;
        }
    </style>
    <script>
        function showSection(sectionId) {
            // Hide all sections
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('create-section').classList.add('hidden');
            document.getElementById('edit-section').classList.add('hidden');
            document.getElementById('remove-section').classList.add('hidden');
            document.getElementById('current-warehouse-section').classList.add('hidden');

            // Show the selected section
            document.getElementById(sectionId).classList.remove('hidden');
        }

        function handleSubmit(event) {
            event.preventDefault(); // Prevent default form submission

            // Get the form elements
            const zoneSelect = document.getElementById('zone');
            const storageNumberInput = document.getElementById('storage-number');
            const levelSelect = document.getElementById('level');
            const storageIndicatorSelect = document.getElementById('storage-indicator');

            // Retrieve the values
            const zone = zoneSelect.value;
            const storageNumber = storageNumberInput.value;

            // Check if zone and storage number are filled
            if (!zone || !storageNumber) {
                alert('Please fill in all fields.');
                return;
            }

            // Construct the full storage number with zone
            const fullStorageNumber = `${zone}${storageNumber}`;

            // Set the hidden input value
            const hiddenInput = document.createElement('input');
            hiddenInput.type = 'hidden';
            hiddenInput.name = 'full-storage-number';
            hiddenInput.value = fullStorageNumber;

            // Append the hidden input to the form
            const form = event.target;
            form.appendChild(hiddenInput);

            // Submit the form
            form.submit();
        }

        function handleRemoveSubmit(event) {
            event.preventDefault(); // Prevent default form submission

            // Get the form elements
            const zoneSelect = document.getElementById('remove-zone');
            const storageNumberInput = document.getElementById('remove-storage-number');

            // Retrieve the values
            const zone = zoneSelect.value;
            const storageNumber = storageNumberInput.value;

            // Check if zone and storage number are filled
            if (!zone || !storageNumber) {
                alert('Please fill in all fields.');
                return;
            }

            // Construct the full storage number with zone
            const fullStorageNumber = `${zone}${storageNumber}`;

            // Set the hidden input value
            const hiddenInput = document.createElement('input');
            hiddenInput.type = 'hidden';
            hiddenInput.name = 'full-storage-number';
            hiddenInput.value = fullStorageNumber;

            // Append the hidden input to the form
            const form = event.target;
            form.appendChild(hiddenInput);

            // Confirm before submitting
            if (confirm('Are you sure you want to remove this warehouse?')) {
                // Submit the form
                form.submit();
            }
        }

        function lookupLocation(event) {
            event.preventDefault(); // Prevent default form submission

            // Get the form elements
            const zoneSelect = document.getElementById('edit-zone');
            const storageNumberInput = document.getElementById('edit-storage-number');
            const storageIndicatorSelect = document.getElementById('edit-storage-indicator');

            // Retrieve the values
            const zone = zoneSelect.value;
            const storageNumber = storageNumberInput.value;

            // Check if zone and storage number are filled
            if (!zone || !storageNumber) {
                alert('Please fill in all fields.');
                return;
            }

            // Construct the full storage number with zone
            const fullStorageNumber = `${zone}${storageNumber}`;

            // Simulate a lookup operation (e.g., call an API to get warehouse data)
            // For demonstration, we use static values. Replace this with actual data fetching.
            const exampleData = {
                "Z01": { "001": { "indicator": "A" } },
                "Z02": { "002": { "indicator": "B" } }
                // Add more example data as needed
            };

            const warehouseData = exampleData[zone] && exampleData[zone][storageNumber];

            if (warehouseData) {
                // Populate the form with existing data
                storageIndicatorSelect.value = warehouseData.indicator;
                document.getElementById('edit-location-details').classList.remove('hidden');
            } else {
                alert('No warehouse found with the given Zone and Storage Number.');
                document.getElementById('edit-location-details').classList.add('hidden');
            }
        }

        function showCurrentWarehouse() {
            // Simulate fetching current warehouse data
            // For demonstration, we use static values. Replace this with actual data fetching.
            const currentData = [
                { zone: "Z01", number: "001", level: "A", indicator: "A" },
                { zone: "Z02", number: "002", level: "B", indicator: "B" }
                // Add more current data as needed
            ];

            const tableBody = document.getElementById('current-warehouse-table-body');
            tableBody.innerHTML = ''; // Clear previous data

            currentData.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.zone}</td>
                    <td>${item.number}</td>
                    <td>${item.level}</td>
                    <td>${item.indicator}</td>
                `;
                tableBody.appendChild(row);
            });

            document.getElementById('current-warehouse-section').classList.remove('hidden');
        }
    </script>
</head>
<body>
<div class="container">
    <div id="main-menu">
        <h1>Warehouse Management</h1>
        <div class="options">
            <button onclick="showSection('create-section')">Create Warehouse</button>
            <button onclick="showSection('edit-section')">Edit Warehouse</button>
            <button onclick="showSection('remove-section')">Remove Warehouse</button>
            <button onclick="showCurrentWarehouse()">See Current Warehouse</button>
        </div>
    </div>

    <div id="create-section" class="hidden">
        <h1>Create Warehouse</h1>
        <form action="/submit-warehouse" method="post" onsubmit="handleSubmit(event)">
            <div class="form-group">
                <label for="zone">Zone:</label>
                <select id="zone" name="zone" required>
                    <option value="">Select Zone</option>
                    <option value="Z01">Z01</option>
                    <option value="Z02">Z02</option>
                    <option value="Z03">Z03</option>
                    <option value="Z04">Z04</option>
                    <option value="Z05">Z05</option>
                    <option value="Z06">Z06</option>
                    <option value="Z07">Z07</option>
                    <option value="Z08">Z08</option>
                    <option value="Z09">Z09</option>
                    <option value="Z10">Z10</option>
                </select>
            </div>
            <div class="form-group">
                <label for="storage-number">Storage Number:</label>
                <input type="text" id="storage-number" name="storage-number" placeholder="Enter number" required>
            </div>
            <div class="form-group">
                <label for="level">Storage Level:</label>
                <select id="level" name="level" required>
                    <option value="">Select Level</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="E">E</option>
                </select>
            </div>
            <div class="form-group">
                <label for="storage-indicator">Storage Indicator:</label>
                <select id="storage-indicator" name="storage-indicator" required>
                    <option value="">Select Indicator</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                    <option value="G">G</option>
                </select>
            </div>
            <button type="submit">Create Warehouse</button>
            <button type="button" onclick="showSection('main-menu')">Return to Main Menu</button>
        </form>
    </div>

    <div id="edit-section" class="hidden">
        <h1>Edit Warehouse</h1>
        <form id="edit-form" onsubmit="lookupLocation(event)">
            <div class="form-group">
                <label for="edit-zone">Zone:</label>
                <select id="edit-zone" name="zone" required>
                    <option value="">Select Zone</option>
                    <option value="Z01">Z01</option>
                    <option value="Z02">Z02</option>
                    <option value="Z03">Z03</option>
                    <option value="Z04">Z04</option>
                    <option value="Z05">Z05</option>
                    <option value="Z06">Z06</option>
                    <option value="Z07">Z07</option>
                    <option value="Z08">Z08</option>
                    <option value="Z09">Z09</option>
                    <option value="Z10">Z10</option>
                </select>
            </div>
            <div class="form-group">
                <label for="edit-storage-number">Storage Number:</label>
                <input type="text" id="edit-storage-number" name="storage-number" placeholder="Enter number" required>
            </div>
            <div class="button-group">
                <button type="submit">Lookup</button>
                <button type="button" onclick="showSection('main-menu')">Return to Main Menu</button>
            </div>
        </form>
        <div id="edit-location-details" class="hidden">
            <h2>Edit Details</h2>
            <form action="/update-warehouse" method="post">
                <div class="form-group">
                    <label for="edit-storage-indicator">Storage Indicator:</label>
                    <select id="edit-storage-indicator" name="storage-indicator" required>
                        <option value="">Select Indicator</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="G">G</option>
                    </select>
                </div>
                <div class="button-group">
                    <button type="submit">Update Warehouse</button>
                    <button type="button" onclick="showSection('main-menu')">Return to Main Menu</button>
                </div>
            </form>
        </div>
    </div>

    <div id="remove-section" class="hidden">
        <h1>Remove Warehouse</h1>
        <form action="/remove-warehouse" method="post" onsubmit="handleRemoveSubmit(event)">
            <div class="form-group">
                <label for="remove-zone">Zone:</label>
                <select id="remove-zone" name="zone" required>
                    <option value="">Select Zone</option>
                    <option value="Z01">Z01</option>
                    <option value="Z02">Z02</option>
                    <option value="Z03">Z03</option>
                    <option value="Z04">Z04</option>
                    <option value="Z05">Z05</option>
                    <option value="Z06">Z06</option>
                    <option value="Z07">Z07</option>
                    <option value="Z08">Z08</option>
                    <option value="Z09">Z09</option>
                    <option value="Z10">Z10</option>
                </select>
            </div>
            <div class="form-group">
                <label for="remove-storage-number">Storage Number:</label>
                <input type="text" id="remove-storage-number" name="storage-number" placeholder="Enter number" required>
            </div>
            <div class="button-group">
                <button type="submit">Remove Warehouse</button>
                <button type="button" onclick="showSection('main-menu')">Return to Main Menu</button>
            </div>
        </form>
    </div>

    <div id="current-warehouse-section" class="hidden">
        <h1>Current Warehouse</h1>
        <table>
            <thead>
            <tr>
                <th>Zone</th>
                <th>Storage Number</th>
                <th>Level</th>
                <th>Indicator</th>
            </tr>
            </thead>
            <tbody id="current-warehouse-table-body">
            <!-- Data will be populated here -->
            </tbody>
        </table>
        <button type="button" onclick="showSection('main-menu')">Return to Main Menu</button>
    </div>
</div>
</body>
</html>

